# StreamFlow Environment Configuration
# Copy this file to .env and modify the values for your environment
# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment: development, staging, production
ENVIRONMENT=development

# Enable debug mode (true/false)
DEBUG=true

# Application name and version
APP_NAME=StreamFlow
APP_VERSION=0.1.0

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL database URL
DATABASE_URL=postgresql+asyncpg://streamflow:streamflow123@localhost:5432/streamflow

# Database connection pool settings
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# Enable SQL query logging (true/false)
DATABASE_ECHO=false

# =============================================================================
# RABBITMQ CONFIGURATION
# =============================================================================

# RabbitMQ connection URL
RABBITMQ_URL=amqp://admin:admin123@localhost:5672/

# Exchange names
RABBITMQ_EXCHANGE_EVENTS=events
RABBITMQ_EXCHANGE_ANALYTICS=analytics
RABBITMQ_EXCHANGE_ALERTS=alerts

# Connection settings
RABBITMQ_MAX_CONNECTIONS=10
RABBITMQ_HEARTBEAT=600

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis connection URL
REDIS_URL=redis://localhost:6379

# Redis database number
REDIS_DB=0

# Redis connection pool settings
REDIS_MAX_CONNECTIONS=10

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# JWT secret key (CHANGE THIS IN PRODUCTION!)
JWT_SECRET_KEY=development-secret-key-change-in-production-minimum-32-characters

# JWT algorithm
JWT_ALGORITHM=HS256

# JWT token expiration time (in minutes)
JWT_EXPIRE_MINUTES=30

# Bcrypt rounds for password hashing
BCRYPT_ROUNDS=12

# =============================================================================
# SERVICE PORTS
# =============================================================================

# Event Ingestion Service
INGESTION_PORT=8001

# Analytics Pipeline Service
ANALYTICS_PORT=8002

# Alert Engine Service
ALERTING_PORT=8003

# Dashboard API Service
DASHBOARD_PORT=8004

# Data Storage Service
STORAGE_PORT=8005

# =============================================================================
# SERVICE URLS (for inter-service communication)
# =============================================================================

INGESTION_URL=http://localhost:8001
ANALYTICS_URL=http://localhost:8002
ALERTING_URL=http://localhost:8003
DASHBOARD_URL=http://localhost:8004
STORAGE_URL=http://localhost:8005

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Enable Prometheus metrics (true/false)
PROMETHEUS_ENABLED=true

# Prometheus metrics port
PROMETHEUS_PORT=8080

# Enable Jaeger tracing (true/false)
JAEGER_ENABLED=false

# Jaeger endpoint
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# RATE LIMITING
# =============================================================================

# Enable rate limiting (true/false)
RATE_LIMIT_ENABLED=true

# Requests per minute per IP
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# Burst size for rate limiting
RATE_LIMIT_BURST_SIZE=10

# =============================================================================
# NOTIFICATION SETTINGS
# =============================================================================

# Email notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=streamflow@your-domain.com

# Slack notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Webhook notifications
WEBHOOK_URL=https://your-webhook-endpoint.com/alerts

# SMS notifications (Twilio)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_FROM_NUMBER=+1234567890

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# External API endpoints
EXTERNAL_API_BASE_URL=https://api.external-service.com
EXTERNAL_API_KEY=your-external-api-key

# Third-party integrations
DATADOG_API_KEY=your-datadog-api-key
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Worker processes for web services
WEB_CONCURRENCY=4

# Maximum request size (in bytes)
MAX_REQUEST_SIZE=1048576

# Request timeout (in seconds)
REQUEST_TIMEOUT=30

# Keep-alive timeout (in seconds)
KEEP_ALIVE_TIMEOUT=65

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Auto-reload on code changes (development only)
AUTO_RELOAD=true

# Enable development endpoints
ENABLE_DEV_ENDPOINTS=true

# Test database URL (for running tests)
TEST_DATABASE_URL=postgresql+asyncpg://test:test@localhost:5432/streamflow_test

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# These settings are typically set in production environments

# SSL/TLS settings
SSL_CERT_PATH=/path/to/ssl/cert.pem
SSL_KEY_PATH=/path/to/ssl/key.pem

# Reverse proxy settings
FORWARDED_ALLOW_IPS=*
PROXY_HEADERS=true

# Health check settings
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# Graceful shutdown timeout
GRACEFUL_SHUTDOWN_TIMEOUT=30

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================

# Database backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=7
BACKUP_S3_BUCKET=streamflow-backups
BACKUP_S3_PREFIX=database/

# AWS credentials for backups
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features
FEATURE_BATCH_PROCESSING=true
FEATURE_REAL_TIME_ALERTS=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_CUSTOM_DASHBOARDS=true
FEATURE_API_VERSIONING=true

# =============================================================================
# CONTAINERIZATION SETTINGS
# =============================================================================

# Docker-specific settings
DOCKER_REGISTRY=your-registry.com
DOCKER_IMAGE_TAG=latest

# Kubernetes-specific settings
KUBERNETES_NAMESPACE=streamflow
KUBERNETES_SERVICE_ACCOUNT=streamflow-sa

# =============================================================================
# TESTING SETTINGS
# =============================================================================

# Test environment settings
TEST_ENVIRONMENT=true
TEST_SKIP_MIGRATIONS=false
TEST_PARALLEL_WORKERS=4

# Mock external services in tests
MOCK_EXTERNAL_SERVICES=true

# =============================================================================
# ANALYTICS AND METRICS
# =============================================================================

# Analytics retention periods
EVENTS_RETENTION_DAYS=90
METRICS_RETENTION_DAYS=365
ALERTS_RETENTION_DAYS=30

# Aggregation settings
ENABLE_REAL_TIME_AGGREGATION=true
AGGREGATION_WINDOW_SIZE=60  # seconds
AGGREGATION_BATCH_SIZE=1000

# =============================================================================
# ALERTING CONFIGURATION
# =============================================================================

# Default alert settings
DEFAULT_ALERT_COOLDOWN=300  # seconds
DEFAULT_ALERT_ESCALATION=1800  # seconds
MAX_ALERTS_PER_MINUTE=10

# Alert channels
ALERT_CHANNELS=email,slack,webhook

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

# Cache settings
CACHE_ENABLED=true
CACHE_TTL=3600  # seconds
CACHE_MAX_SIZE=1000

# Cache backends
CACHE_BACKEND=redis
MEMORY_CACHE_SIZE=100MB

# =============================================================================
# QUEUE CONFIGURATION
# =============================================================================

# Queue settings
QUEUE_MAX_SIZE=10000
QUEUE_PREFETCH_COUNT=10
QUEUE_ACKNOWLEDGMENT_TIMEOUT=30

# Dead letter queue settings
DLQ_ENABLED=true
DLQ_MAX_RETRIES=3
DLQ_RETRY_DELAY=60

# =============================================================================
# NETWORKING CONFIGURATION
# =============================================================================

# Network settings
BIND_HOST=0.0.0.0
BIND_PORT=8000

# Load balancer settings
LOAD_BALANCER_ENABLED=false
LOAD_BALANCER_TYPE=round_robin

# =============================================================================
# MAINTENANCE MODE
# =============================================================================

# Maintenance mode settings
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="StreamFlow is currently under maintenance. Please try again later."

# =============================================================================
# CUSTOM CONFIGURATION
# =============================================================================

# Add your custom environment variables here
CUSTOM_SETTING_1=value1
CUSTOM_SETTING_2=value2
